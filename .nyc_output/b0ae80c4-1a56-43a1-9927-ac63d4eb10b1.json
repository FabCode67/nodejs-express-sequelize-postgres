{"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\index.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\index.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":57}},"1":{"start":{"line":4,"column":12},"end":{"line":4,"column":51}},"2":{"start":{"line":5,"column":14},"end":{"line":5,"column":55}},"3":{"start":{"line":6,"column":12},"end":{"line":6,"column":67}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":73}},"5":{"start":{"line":8,"column":12},"end":{"line":8,"column":67}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":73}},"7":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}},"9":{"start":{"line":12,"column":12},"end":{"line":12,"column":35}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":33}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":31}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":34}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":31}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":34}},"16":{"start":{"line":19,"column":0},"end":{"line":19,"column":87}},"17":{"start":{"line":19,"column":35},"end":{"line":19,"column":85}},"18":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":29},"end":{"line":19,"column":30}},"loc":{"start":{"line":19,"column":35},"end":{"line":19,"column":85}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":7,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"f":{"0":7,"1":1},"b":{"0":[0,7],"1":[7,7]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_dotenv","_user","_message","_blog","_comment","obj","__esModule","default","dotenv","config","app","express","use","json","cors","userRouter","messageRout","blogRoutes","commentRout","listen","process","env","PORT","console","log","module","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\","sources":["index.js"],"sourcesContent":["import express from \"express\"\r\nimport cors from \"cors\"\r\nimport dotenv from \"dotenv\";\r\nimport userRouter from \"./routes/user.routes\"\r\nimport messageRout from \"./routes/message.routes\"\r\nimport blogRoutes from \"./routes/blog.routes\"\r\nimport commentRout from \"./routes/comment.routes\"\r\n\r\ndotenv.config()\r\nconst app = express()       \r\napp.use(express.json())\r\napp.use(cors())\r\napp.use('/api',userRouter) \r\napp.use('/api',messageRout)\r\napp.use('/api',blogRoutes)\r\napp.use('/api',commentRout)\r\n\r\napp.listen(process.env.PORT, () => console.log(`running on port ${process.env.PORT}`))\r\n  \r\nmodule.exports = app;  "],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,QAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,KAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,QAAA,GAAAP,sBAAA,CAAAC,OAAA;AAAiD,SAAAD,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEjDG,eAAM,CAACC,MAAM,EAAE;AACf,MAAMC,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrBD,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACE,IAAI,EAAE,CAAC;AACvBH,GAAG,CAACE,GAAG,CAAC,IAAAE,aAAI,GAAE,CAAC;AACfJ,GAAG,CAACE,GAAG,CAAC,MAAM,EAACG,aAAU,CAAC;AAC1BL,GAAG,CAACE,GAAG,CAAC,MAAM,EAACI,gBAAW,CAAC;AAC3BN,GAAG,CAACE,GAAG,CAAC,MAAM,EAACK,aAAU,CAAC;AAC1BP,GAAG,CAACE,GAAG,CAAC,MAAM,EAACM,gBAAW,CAAC;AAE3BR,GAAG,CAACS,MAAM,CAACC,OAAO,CAACC,GAAG,CAACC,IAAI,EAAE,MAAMC,OAAO,CAACC,GAAG,CAAE,mBAAkBJ,OAAO,CAACC,GAAG,CAACC,IAAK,EAAC,CAAC,CAAC;AAEtFG,MAAM,CAACC,OAAO,GAAGhB,GAAG"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c4f1b0556bb0010b909df0d51e7ed1a11627db01","contentHash":"d4ca7509f3db1fcd8e0a76d64a1d0890ed5d5d18d43928bb54fe1acfe494f7eb"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\user.routes.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\user.routes.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":57}},"1":{"start":{"line":4,"column":12},"end":{"line":4,"column":54}},"2":{"start":{"line":5,"column":39},"end":{"line":5,"column":93}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":46}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":47}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":52}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":63}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":37},"end":{"line":5,"column":95}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":92}},"type":"cond-expr","locations":[{"start":{"line":5,"column":70},"end":{"line":5,"column":73}},{"start":{"line":5,"column":76},"end":{"line":5,"column":92}}],"line":5},"1":{"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":67}},"type":"binary-expr","locations":[{"start":{"line":5,"column":46},"end":{"line":5,"column":49}},{"start":{"line":5,"column":53},"end":{"line":5,"column":67}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_user","obj","__esModule","default","router","express","Router","post","userRegister","get","getAllUsers","getUserById","delete","deleteUser","getUserWithMessages","module","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\","sources":["user.routes.js"],"sourcesContent":["import express from \"express\"\r\nimport {userRegister,getAllUsers,getUserById, deleteUser, getUserWithMessages} from \"../controllers/user.controllers\"\r\nconst router = express.Router();\r\n\r\n\r\nrouter.post(\"/user/post\", userRegister)\r\nrouter.get(\"/user/get\", getAllUsers)\r\nrouter.get(\"/user/:id/get\", getUserById)\r\nrouter.delete(\"/user/:id/delete\", deleteUser)\r\nrouter.get(\"/user/:id/message/get\", getUserWithMessages)\r\n\r\nmodule.exports = router;\r\n\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAAqH,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACrH,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAG/BF,MAAM,CAACG,IAAI,CAAC,YAAY,EAAEC,kBAAY,CAAC;AACvCJ,MAAM,CAACK,GAAG,CAAC,WAAW,EAAEC,iBAAW,CAAC;AACpCN,MAAM,CAACK,GAAG,CAAC,eAAe,EAAEE,iBAAW,CAAC;AACxCP,MAAM,CAACQ,MAAM,CAAC,kBAAkB,EAAEC,gBAAU,CAAC;AAC7CT,MAAM,CAACK,GAAG,CAAC,uBAAuB,EAAEK,yBAAmB,CAAC;AAExDC,MAAM,CAACC,OAAO,GAAGZ,MAAM"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2e3bb4f186868f535593263b0277073f382e02d7","contentHash":"279a52e848b9cee0dbe34af25af5eae3e082bad55241124f08070bf82270f8f1"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\user.controllers.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\user.controllers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":125}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":37}},"3":{"start":{"line":8,"column":21},"end":{"line":30,"column":1}},"4":{"start":{"line":9,"column":2},"end":{"line":29,"column":3}},"5":{"start":{"line":10,"column":17},"end":{"line":18,"column":6}},"6":{"start":{"line":19,"column":4},"end":{"line":22,"column":7}},"7":{"start":{"line":24,"column":4},"end":{"line":27,"column":7}},"8":{"start":{"line":28,"column":4},"end":{"line":28,"column":23}},"9":{"start":{"line":31,"column":0},"end":{"line":31,"column":36}},"10":{"start":{"line":32,"column":20},"end":{"line":46,"column":1}},"11":{"start":{"line":33,"column":2},"end":{"line":45,"column":3}},"12":{"start":{"line":34,"column":18},"end":{"line":34,"column":46}},"13":{"start":{"line":35,"column":4},"end":{"line":38,"column":7}},"14":{"start":{"line":40,"column":4},"end":{"line":43,"column":7}},"15":{"start":{"line":44,"column":4},"end":{"line":44,"column":23}},"16":{"start":{"line":47,"column":0},"end":{"line":47,"column":34}},"17":{"start":{"line":48,"column":20},"end":{"line":69,"column":1}},"18":{"start":{"line":49,"column":17},"end":{"line":49,"column":30}},"19":{"start":{"line":50,"column":2},"end":{"line":68,"column":3}},"20":{"start":{"line":51,"column":17},"end":{"line":51,"column":52}},"21":{"start":{"line":52,"column":4},"end":{"line":57,"column":5}},"22":{"start":{"line":53,"column":6},"end":{"line":56,"column":9}},"23":{"start":{"line":58,"column":4},"end":{"line":61,"column":7}},"24":{"start":{"line":63,"column":4},"end":{"line":63,"column":23}},"25":{"start":{"line":64,"column":4},"end":{"line":67,"column":7}},"26":{"start":{"line":70,"column":0},"end":{"line":70,"column":34}},"27":{"start":{"line":71,"column":28},"end":{"line":95,"column":1}},"28":{"start":{"line":72,"column":2},"end":{"line":94,"column":3}},"29":{"start":{"line":73,"column":19},"end":{"line":73,"column":32}},"30":{"start":{"line":74,"column":17},"end":{"line":79,"column":6}},"31":{"start":{"line":80,"column":4},"end":{"line":85,"column":5}},"32":{"start":{"line":81,"column":6},"end":{"line":83,"column":9}},"33":{"start":{"line":84,"column":6},"end":{"line":84,"column":13}},"34":{"start":{"line":86,"column":4},"end":{"line":88,"column":7}},"35":{"start":{"line":90,"column":4},"end":{"line":92,"column":7}},"36":{"start":{"line":93,"column":4},"end":{"line":93,"column":23}},"37":{"start":{"line":96,"column":0},"end":{"line":96,"column":50}},"38":{"start":{"line":97,"column":19},"end":{"line":119,"column":1}},"39":{"start":{"line":98,"column":2},"end":{"line":118,"column":3}},"40":{"start":{"line":99,"column":19},"end":{"line":99,"column":32}},"41":{"start":{"line":100,"column":17},"end":{"line":100,"column":52}},"42":{"start":{"line":101,"column":4},"end":{"line":106,"column":5}},"43":{"start":{"line":102,"column":6},"end":{"line":105,"column":9}},"44":{"start":{"line":107,"column":4},"end":{"line":107,"column":25}},"45":{"start":{"line":108,"column":4},"end":{"line":111,"column":7}},"46":{"start":{"line":113,"column":4},"end":{"line":113,"column":23}},"47":{"start":{"line":114,"column":4},"end":{"line":117,"column":7}},"48":{"start":{"line":120,"column":0},"end":{"line":120,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":21},"end":{"line":8,"column":22}},"loc":{"start":{"line":8,"column":41},"end":{"line":30,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":32,"column":20},"end":{"line":32,"column":21}},"loc":{"start":{"line":32,"column":40},"end":{"line":46,"column":1}},"line":32},"2":{"name":"(anonymous_2)","decl":{"start":{"line":48,"column":20},"end":{"line":48,"column":21}},"loc":{"start":{"line":48,"column":40},"end":{"line":69,"column":1}},"line":48},"3":{"name":"(anonymous_3)","decl":{"start":{"line":71,"column":28},"end":{"line":71,"column":29}},"loc":{"start":{"line":71,"column":48},"end":{"line":95,"column":1}},"line":71},"4":{"name":"(anonymous_4)","decl":{"start":{"line":97,"column":19},"end":{"line":97,"column":20}},"loc":{"start":{"line":97,"column":39},"end":{"line":119,"column":1}},"line":97}},"branchMap":{"0":{"loc":{"start":{"line":52,"column":4},"end":{"line":57,"column":5}},"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":57,"column":5}},{"start":{"line":52,"column":4},"end":{"line":57,"column":5}}],"line":52},"1":{"loc":{"start":{"line":80,"column":4},"end":{"line":85,"column":5}},"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":85,"column":5}},{"start":{"line":80,"column":4},"end":{"line":85,"column":5}}],"line":80},"2":{"loc":{"start":{"line":101,"column":4},"end":{"line":106,"column":5}},"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":106,"column":5}},{"start":{"line":101,"column":4},"end":{"line":106,"column":5}}],"line":101}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"names":["_models","require","userRegister","req","res","user","User","create","firstName","body","lastName","username","email","gender","password","confirm_password","status","send","message","error","console","log","exports","getAllUsers","users","findAll","getUserById","userId","params","id","findByPk","getUserWithMessages","findOne","where","include","Message","json","deleteUser","destroy"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\","sources":["user.controllers.js"],"sourcesContent":["import { User, Message } from '../../models'\r\n\r\nexport const userRegister = async(req,res)=>{\r\n  try{\r\n    const user =    await  User.create({\r\n            firstName : req.body.firstName,\r\n            lastName : req.body.lastName,\r\n            username : req.body.username,\r\n            email : req.body.email,\r\n            gender : req.body.gender,\r\n            password : req.body.password,\r\n            confirm_password : req.body.confirm_password\r\n        })   \r\n      res.status(200).send({status:\"success\", message:user})\r\n  }\r\n      catch(error){\r\n        res.status(404).send({status:\"fail\", message:`failed to register a user ${error}`})\r\n       console.log(error);\r\n      }\r\n\r\n}\r\n\r\nexport const getAllUsers = async(req,res)=>{\r\n  try{\r\n    const users = await User.findAll();\r\n    res.status(200).send({status:\"success\", message:users})\r\n  } catch(error){\r\n    res.status(404).send({status:\"fail\", message:`failed to get users ${error}`})\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport const getUserById = async (req, res) => {\r\n  const userId = req.params.id;\r\n  try {\r\n    const user = await User.findByPk(userId);\r\n    if (!user) {\r\n      return res.status(404).send({ status: 'fail', message: 'User not found' });\r\n    }\r\n    res.status(200).send({ status: 'success', message: user });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).send({ status: 'error', message: 'Internal server error' });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getUserWithMessages = async (req, res) => {\r\n  try {\r\n    const userId = req.params.id;\r\n    const user = await User.findOne({\r\n      where: { id: userId },\r\n      include: Message,\r\n    });\r\n    if (!user) {\r\n      res.status(404).json({ error: 'User not found' });\r\n      return;\r\n    }\r\n\r\n    res.status(200).json({ user });\r\n  } catch (error) {\r\n    res.status(500).json({ error: 'Something went wrong' });\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (req, res) => {\r\n  try {\r\n    const userId = req.params.id; \r\n    const user = await User.findByPk(userId); \r\n    if (!user) {\r\n      return res.status(404).send({ status: \"fail\", message: \"User not found\" });\r\n    }\r\n    await user.destroy(); \r\n    res.status(200).send({ status: \"success\", message: \"User deleted successfully\" });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).send({ status: \"fail\", message: \"Failed to delete user\" });\r\n  }\r\n}\r\n\r\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e41c0f752cae94d54f1c73614544de245c37139c","contentHash":"16e7879e449011d4bb8037bb9476729685b19427432fabccb57db63df332478c"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\index.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\index.js","statementMap":{"0":{"start":{"line":3,"column":11},"end":{"line":3,"column":24}},"1":{"start":{"line":4,"column":13},"end":{"line":4,"column":28}},"2":{"start":{"line":5,"column":18},"end":{"line":5,"column":38}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":34}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":42}},"5":{"start":{"line":8,"column":12},"end":{"line":8,"column":49}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":65}},"7":{"start":{"line":10,"column":11},"end":{"line":10,"column":13}},"8":{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":74}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":87}},"11":{"start":{"line":17,"column":0},"end":{"line":22,"column":3}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":117}},"13":{"start":{"line":20,"column":16},"end":{"line":20,"column":83}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":25}},"15":{"start":{"line":23,"column":0},"end":{"line":27,"column":3}},"16":{"start":{"line":24,"column":2},"end":{"line":26,"column":3}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":32}},"18":{"start":{"line":28,"column":0},"end":{"line":28,"column":25}},"19":{"start":{"line":29,"column":0},"end":{"line":29,"column":25}},"20":{"start":{"line":30,"column":0},"end":{"line":30,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":17,"column":33},"end":{"line":17,"column":34}},"loc":{"start":{"line":17,"column":41},"end":{"line":19,"column":1}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":11},"end":{"line":19,"column":12}},"loc":{"start":{"line":19,"column":19},"end":{"line":22,"column":1}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":24},"end":{"line":23,"column":25}},"loc":{"start":{"line":23,"column":37},"end":{"line":27,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":12},"end":{"line":8,"column":49}},"type":"binary-expr","locations":[{"start":{"line":8,"column":12},"end":{"line":8,"column":32}},{"start":{"line":8,"column":36},"end":{"line":8,"column":49}}],"line":8},"1":{"loc":{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},"type":"if","locations":[{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},{"start":{"line":12,"column":0},"end":{"line":16,"column":1}}],"line":12},"2":{"loc":{"start":{"line":18,"column":9},"end":{"line":18,"column":116}},"type":"binary-expr","locations":[{"start":{"line":18,"column":9},"end":{"line":18,"column":32}},{"start":{"line":18,"column":36},"end":{"line":18,"column":53}},{"start":{"line":18,"column":57},"end":{"line":18,"column":81}},{"start":{"line":18,"column":85},"end":{"line":18,"column":116}}],"line":18},"3":{"loc":{"start":{"line":24,"column":2},"end":{"line":26,"column":3}},"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":26,"column":3}},{"start":{"line":24,"column":2},"end":{"line":26,"column":3}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1,"12":5,"13":4,"14":4,"15":1,"16":4,"17":4,"18":1,"19":1,"20":1},"f":{"0":5,"1":4,"2":4},"b":{"0":[1,0],"1":[0,1],"2":[5,5,4,4],"3":[4,0]},"inputSourceMap":{"version":3,"names":["fs","require","path","Sequelize","process","basename","__filename","env","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\","sources":["index.js"],"sourcesContent":["'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst process = require('process');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../config/config.json')[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (\n      file.indexOf('.') !== 0 &&\n      file !== basename &&\n      file.slice(-3) === '.js' &&\n      file.indexOf('.test.js') === -1\n    );\n  })\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAW,CAAC;AACtC,MAAMG,OAAO,GAAGH,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMI,QAAQ,GAAGH,IAAI,CAACG,QAAQ,CAACC,UAAU,CAAC;AAC1C,MAAMC,GAAG,GAAGH,OAAO,CAACG,GAAG,CAACC,QAAQ,IAAI,aAAa;AACjD,MAAMC,MAAM,GAAGR,OAAO,CAACS,SAAS,GAAG,wBAAwB,CAAC,CAACH,GAAG,CAAC;AACjE,MAAMI,EAAE,GAAG,CAAC,CAAC;AAEb,IAAIC,SAAS;AACb,IAAIH,MAAM,CAACI,gBAAgB,EAAE;EAC3BD,SAAS,GAAG,IAAIT,SAAS,CAACC,OAAO,CAACG,GAAG,CAACE,MAAM,CAACI,gBAAgB,CAAC,EAAEJ,MAAM,CAAC;AACzE,CAAC,MAAM;EACLG,SAAS,GAAG,IAAIT,SAAS,CAACM,MAAM,CAACK,QAAQ,EAAEL,MAAM,CAACM,QAAQ,EAAEN,MAAM,CAACO,QAAQ,EAAEP,MAAM,CAAC;AACtF;AAEAT,EAAE,CACCiB,WAAW,CAACP,SAAS,CAAC,CACtBQ,MAAM,CAACC,IAAI,IAAI;EACd,OACEA,IAAI,CAACC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IACvBD,IAAI,KAAKd,QAAQ,IACjBc,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,IACxBF,IAAI,CAACC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAEnC,CAAC,CAAC,CACDE,OAAO,CAACH,IAAI,IAAI;EACf,MAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAI,CAACd,SAAS,EAAES,IAAI,CAAC,CAAC,CAACP,SAAS,EAAET,SAAS,CAACsB,SAAS,CAAC;EACjFd,EAAE,CAACY,KAAK,CAACG,IAAI,CAAC,GAAGH,KAAK;AACxB,CAAC,CAAC;AAEJI,MAAM,CAACC,IAAI,CAACjB,EAAE,CAAC,CAACW,OAAO,CAACO,SAAS,IAAI;EACnC,IAAIlB,EAAE,CAACkB,SAAS,CAAC,CAACC,SAAS,EAAE;IAC3BnB,EAAE,CAACkB,SAAS,CAAC,CAACC,SAAS,CAACnB,EAAE,CAAC;EAC7B;AACF,CAAC,CAAC;AAEFA,EAAE,CAACC,SAAS,GAAGA,SAAS;AACxBD,EAAE,CAACR,SAAS,GAAGA,SAAS;AAExB4B,MAAM,CAACC,OAAO,GAAGrB,EAAE"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"798a598346e3ca9207c4ba1e322ddf9d03a998b0","contentHash":"437b5fea394fd8f995b9006a5b913297e3aa88bc8009eed8f28324cd70b1c44d"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\blog.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\blog.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":29,"column":2}},"2":{"start":{"line":15,"column":6},"end":{"line":17,"column":9}},"3":{"start":{"line":20,"column":2},"end":{"line":27,"column":5}},"4":{"start":{"line":28,"column":2},"end":{"line":28,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":29,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":18,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Blog","associate","models","hasMany","Comment","foreignKey","init","blogTitle","STRING","blogDescription","blogImage","modelName"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\","sources":["blog.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Blog extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // this.belongsTo(models.User, { foreignKey: 'userId' });\n      this.hasMany(models.Comment, { foreignKey: 'blogId' }); \n\n       }\n  }\n  Blog.init({\n    blogTitle: DataTypes.STRING,\n    blogDescription: DataTypes.STRING,\n    blogImage: DataTypes.STRING\n  }, {\n    sequelize,\n    modelName: 'Blog',\n  });\n  return Blog;\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACvB;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACA,IAAI,CAACC,OAAO,CAACD,MAAM,CAACE,OAAO,EAAE;QAAEC,UAAU,EAAE;MAAS,CAAC,CAAC;IAErD;EACL;EACAL,IAAI,CAACM,IAAI,CAAC;IACRC,SAAS,EAAER,SAAS,CAACS,MAAM;IAC3BC,eAAe,EAAEV,SAAS,CAACS,MAAM;IACjCE,SAAS,EAAEX,SAAS,CAACS;EACvB,CAAC,EAAE;IACDV,SAAS;IACTa,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOX,IAAI;AACb,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e06a21732324d1a5fdb87d1dfd5a3ee0f379aea2","contentHash":"0de9ec893c4106a30b56555d7ad009aaf3c7bddde1d108140a0da04cd0789ccb"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\comment.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\comment.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":33,"column":2}},"2":{"start":{"line":14,"column":6},"end":{"line":16,"column":9}},"3":{"start":{"line":17,"column":6},"end":{"line":19,"column":9}},"4":{"start":{"line":22,"column":2},"end":{"line":31,"column":5}},"5":{"start":{"line":32,"column":2},"end":{"line":32,"column":17}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":33,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":20,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Comment","associate","models","belongsTo","User","foreignKey","Blog","init","username","STRING","email","blogId","INTEGER","userId","comment","modelName"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\","sources":["comment.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Comment extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      this.belongsTo(models.User, { foreignKey: 'userId' });\n      this.belongsTo(models.Blog, { foreignKey: 'blogId' });    }\n  }\n  Comment.init({\n    username: DataTypes.STRING,\n    email: DataTypes.STRING,\n    blogId: DataTypes.INTEGER,\n    userId: DataTypes.INTEGER,\n    comment: DataTypes.STRING\n  }, {\n    sequelize,\n    modelName: 'Comment',\n  });\n  return Comment;\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,OAAO,SAASN,KAAK,CAAC;IAC1B;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB,IAAI,CAACC,SAAS,CAACD,MAAM,CAACE,IAAI,EAAE;QAAEC,UAAU,EAAE;MAAS,CAAC,CAAC;MACrD,IAAI,CAACF,SAAS,CAACD,MAAM,CAACI,IAAI,EAAE;QAAED,UAAU,EAAE;MAAS,CAAC,CAAC;IAAK;EAC9D;EACAL,OAAO,CAACO,IAAI,CAAC;IACXC,QAAQ,EAAET,SAAS,CAACU,MAAM;IAC1BC,KAAK,EAAEX,SAAS,CAACU,MAAM;IACvBE,MAAM,EAAEZ,SAAS,CAACa,OAAO;IACzBC,MAAM,EAAEd,SAAS,CAACa,OAAO;IACzBE,OAAO,EAAEf,SAAS,CAACU;EACrB,CAAC,EAAE;IACDX,SAAS;IACTiB,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOf,OAAO;AAChB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cd3b85dd21476133608987da5e32f37673033e3c","contentHash":"a7ab7d18c32135f4862d57c135c321787ff23c5e98744567d439e57602015e71"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\message.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\message.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":28,"column":2}},"2":{"start":{"line":14,"column":6},"end":{"line":16,"column":9}},"3":{"start":{"line":19,"column":2},"end":{"line":26,"column":5}},"4":{"start":{"line":27,"column":2},"end":{"line":27,"column":17}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":28,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":17,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Message","associate","models","belongsTo","User","foreignKey","init","username","STRING","email","message","modelName"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\","sources":["message.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Message extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      this.belongsTo(models.User, { foreignKey: 'userId' });\n    }\n  }\n  Message.init({\n    username: DataTypes.STRING,\n    email: DataTypes.STRING,\n    message: DataTypes.STRING\n  }, {\n    sequelize,\n    modelName: 'Message',\n  });\n  return Message;\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,OAAO,SAASN,KAAK,CAAC;IAC1B;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB,IAAI,CAACC,SAAS,CAACD,MAAM,CAACE,IAAI,EAAE;QAAEC,UAAU,EAAE;MAAS,CAAC,CAAC;IACvD;EACF;EACAL,OAAO,CAACM,IAAI,CAAC;IACXC,QAAQ,EAAER,SAAS,CAACS,MAAM;IAC1BC,KAAK,EAAEV,SAAS,CAACS,MAAM;IACvBE,OAAO,EAAEX,SAAS,CAACS;EACrB,CAAC,EAAE;IACDV,SAAS;IACTa,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOX,OAAO;AAChB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"744eb4ca7eac90a00a1216fec06b6d814524fdfa","contentHash":"1163f01f1b1965dee5cb3b11b1dd3185a679462a3c952c81fdd4f1bafc38ebde"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\user.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\user.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":32,"column":2}},"2":{"start":{"line":14,"column":6},"end":{"line":16,"column":9}},"3":{"start":{"line":19,"column":2},"end":{"line":30,"column":5}},"4":{"start":{"line":31,"column":2},"end":{"line":31,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":32,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":17,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","User","associate","models","hasMany","Message","foreignKey","init","firstName","STRING","lastName","username","email","gender","password","confirm_password","modelName"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\models\\","sources":["user.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class User extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      this.hasMany(models.Message, { foreignKey: 'userId' });\n    }\n  }\n  User.init({\n    firstName: DataTypes.STRING,\n    lastName: DataTypes.STRING,\n    username: DataTypes.STRING,\n    email: DataTypes.STRING,\n    gender: DataTypes.STRING,\n    password: DataTypes.STRING,\n    confirm_password: DataTypes.STRING\n  }, {\n    sequelize,\n    modelName: 'User',\n  });\n  return User;\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACvB;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB,IAAI,CAACC,OAAO,CAACD,MAAM,CAACE,OAAO,EAAE;QAAEC,UAAU,EAAE;MAAS,CAAC,CAAC;IACxD;EACF;EACAL,IAAI,CAACM,IAAI,CAAC;IACRC,SAAS,EAAER,SAAS,CAACS,MAAM;IAC3BC,QAAQ,EAAEV,SAAS,CAACS,MAAM;IAC1BE,QAAQ,EAAEX,SAAS,CAACS,MAAM;IAC1BG,KAAK,EAAEZ,SAAS,CAACS,MAAM;IACvBI,MAAM,EAAEb,SAAS,CAACS,MAAM;IACxBK,QAAQ,EAAEd,SAAS,CAACS,MAAM;IAC1BM,gBAAgB,EAAEf,SAAS,CAACS;EAC9B,CAAC,EAAE;IACDV,SAAS;IACTiB,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOf,IAAI;AACb,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9e5725282f7169c30fd1b8917eba4582a721d26f","contentHash":"271542a62e6d6d842aab2c264c4c14ceffcaba995fa6e2c9251d3b79b46cbfa5"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\message.routes.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\message.routes.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":57}},"1":{"start":{"line":4,"column":15},"end":{"line":4,"column":59}},"2":{"start":{"line":5,"column":39},"end":{"line":5,"column":93}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":57}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":53}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":37},"end":{"line":5,"column":95}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":92}},"type":"cond-expr","locations":[{"start":{"line":5,"column":70},"end":{"line":5,"column":73}},{"start":{"line":5,"column":76},"end":{"line":5,"column":92}}],"line":5},"1":{"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":67}},"type":"binary-expr","locations":[{"start":{"line":5,"column":46},"end":{"line":5,"column":49}},{"start":{"line":5,"column":53},"end":{"line":5,"column":67}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_message","obj","__esModule","default","router","express","Router","post","createMessage","get","getAllMessages","module","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\","sources":["message.routes.js"],"sourcesContent":["import express from \"express\"\r\nimport { createMessage, getAllMessages } from \"../controllers/message.controller\"\r\n\r\nconst router = express.Router();\r\n\r\n\r\nrouter.post(\"/user/:id/message\", createMessage)\r\nrouter.get(\"/messages/get\", getAllMessages)\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAAiF,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEjF,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAG/BF,MAAM,CAACG,IAAI,CAAC,mBAAmB,EAAEC,sBAAa,CAAC;AAC/CJ,MAAM,CAACK,GAAG,CAAC,eAAe,EAAEC,uBAAc,CAAC;AAE3CC,MAAM,CAACC,OAAO,GAAGR,MAAM"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"71d5a5713823ff5e6220efd28ed0f74f9d585457","contentHash":"63a789b64975d3cb67bbce65268f47168b6dc1cd7e38f60272f4c00a5ea79387"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\message.controller.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\message.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":56}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":37}},"3":{"start":{"line":8,"column":22},"end":{"line":35,"column":1}},"4":{"start":{"line":9,"column":2},"end":{"line":34,"column":3}},"5":{"start":{"line":10,"column":19},"end":{"line":10,"column":32}},"6":{"start":{"line":11,"column":17},"end":{"line":13,"column":6}},"7":{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},"8":{"start":{"line":15,"column":6},"end":{"line":17,"column":9}},"9":{"start":{"line":18,"column":6},"end":{"line":18,"column":13}},"10":{"start":{"line":20,"column":20},"end":{"line":25,"column":6}},"11":{"start":{"line":26,"column":4},"end":{"line":28,"column":7}},"12":{"start":{"line":30,"column":4},"end":{"line":32,"column":7}},"13":{"start":{"line":33,"column":4},"end":{"line":33,"column":23}},"14":{"start":{"line":36,"column":0},"end":{"line":36,"column":38}},"15":{"start":{"line":37,"column":23},"end":{"line":51,"column":1}},"16":{"start":{"line":38,"column":2},"end":{"line":50,"column":3}},"17":{"start":{"line":39,"column":21},"end":{"line":39,"column":52}},"18":{"start":{"line":40,"column":4},"end":{"line":43,"column":7}},"19":{"start":{"line":45,"column":4},"end":{"line":48,"column":7}},"20":{"start":{"line":49,"column":4},"end":{"line":49,"column":23}},"21":{"start":{"line":52,"column":0},"end":{"line":52,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":22},"end":{"line":8,"column":23}},"loc":{"start":{"line":8,"column":42},"end":{"line":35,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":37,"column":23},"end":{"line":37,"column":24}},"loc":{"start":{"line":37,"column":43},"end":{"line":51,"column":1}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},{"start":{"line":14,"column":4},"end":{"line":19,"column":5}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"f":{"0":0,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"names":["_models","require","createMessage","req","res","userId","params","id","user","User","findByPk","attributes","status","json","error","message","Message","create","username","email","body","console","log","exports","getAllMessages","messages","findAll","send"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\","sources":["message.controller.js"],"sourcesContent":["import { User, Message } from '../../models';\r\nexport const createMessage = async (req, res) => {\r\n    try {\r\n      const userId = req.params.id; \r\n      const user = await User.findByPk(userId, {\r\n        attributes: ['id','username', 'email']\r\n      });\r\n       if (!user) {\r\n        res.status(404).json({ error: 'User not found' });\r\n        return;\r\n      }\r\n  \r\n      const message = await Message.create({\r\n        username: user.username,\r\n        email: user.email,\r\n        message: req.body.message,\r\n        userId: user.id\r\n      });\r\n  \r\n      res.status(201).json({ message });\r\n    } catch (error) {\r\n      res.status(500).json({ error: 'Something went wrong' });\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n\r\n  export const getAllMessages = async(req,res)=>{\r\n    try{\r\n      const messages = await Message.findAll();\r\n      res.status(200).send({status:\"success\", message:messages})\r\n    } catch(error){\r\n      res.status(404).send({status:\"fail\", message:`failed to get messages ${error}`})\r\n      console.log(error);\r\n    }\r\n  }\r\n  "],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC7C,IAAI;IACF,MAAMC,MAAM,GAAGF,GAAG,CAACG,MAAM,CAACC,EAAE;IAC5B,MAAMC,IAAI,GAAG,MAAMC,YAAI,CAACC,QAAQ,CAACL,MAAM,EAAE;MACvCM,UAAU,EAAE,CAAC,IAAI,EAAC,UAAU,EAAE,OAAO;IACvC,CAAC,CAAC;IACD,IAAI,CAACH,IAAI,EAAE;MACVJ,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAAiB,CAAC,CAAC;MACjD;IACF;IAEA,MAAMC,OAAO,GAAG,MAAMC,eAAO,CAACC,MAAM,CAAC;MACnCC,QAAQ,EAAEV,IAAI,CAACU,QAAQ;MACvBC,KAAK,EAAEX,IAAI,CAACW,KAAK;MACjBJ,OAAO,EAAEZ,GAAG,CAACiB,IAAI,CAACL,OAAO;MACzBV,MAAM,EAAEG,IAAI,CAACD;IACf,CAAC,CAAC;IAEFH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEE;IAAQ,CAAC,CAAC;EACnC,CAAC,CAAC,OAAOD,KAAK,EAAE;IACdV,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAuB,CAAC,CAAC;IACvDO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;EACpB;AACF,CAAC;AAACS,OAAA,CAAArB,aAAA,GAAAA,aAAA;AAGK,MAAMsB,cAAc,GAAG,MAAAA,CAAMrB,GAAG,EAACC,GAAG,KAAG;EAC5C,IAAG;IACD,MAAMqB,QAAQ,GAAG,MAAMT,eAAO,CAACU,OAAO,EAAE;IACxCtB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACe,IAAI,CAAC;MAACf,MAAM,EAAC,SAAS;MAAEG,OAAO,EAACU;IAAQ,CAAC,CAAC;EAC5D,CAAC,CAAC,OAAMX,KAAK,EAAC;IACZV,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACe,IAAI,CAAC;MAACf,MAAM,EAAC,MAAM;MAAEG,OAAO,EAAE,0BAAyBD,KAAM;IAAC,CAAC,CAAC;IAChFO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;EACpB;AACF,CAAC;AAAAS,OAAA,CAAAC,cAAA,GAAAA,cAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"eed3095885c106b26d937b7a473967833e6c4c33","contentHash":"da140c4436a6a8915beca35307d0a7fb3e01305d4e49952cc996682bd6119501"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\blog.routes.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\blog.routes.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":57}},"1":{"start":{"line":4,"column":14},"end":{"line":4,"column":70}},"2":{"start":{"line":5,"column":12},"end":{"line":5,"column":53}},"3":{"start":{"line":6,"column":39},"end":{"line":6,"column":93}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":40}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":81}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":68}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":43}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":47}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":52}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":88}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":6,"column":9},"end":{"line":6,"column":31}},"loc":{"start":{"line":6,"column":37},"end":{"line":6,"column":95}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":46},"end":{"line":6,"column":92}},"type":"cond-expr","locations":[{"start":{"line":6,"column":70},"end":{"line":6,"column":73}},{"start":{"line":6,"column":76},"end":{"line":6,"column":92}}],"line":6},"1":{"loc":{"start":{"line":6,"column":46},"end":{"line":6,"column":67}},"type":"binary-expr","locations":[{"start":{"line":6,"column":46},"end":{"line":6,"column":49}},{"start":{"line":6,"column":53},"end":{"line":6,"column":67}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":2,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":2},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_blog","obj","__esModule","default","router","express","Router","post","upload","single","createBlog","get","getBlogWithComments","getAllBlogs","getBlogById","delete","deleteBlog","patch","updateBlog","module","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\","sources":["blog.routes.js"],"sourcesContent":["import express from \"express\"\r\nimport upload from \"../middlewares/multer\";\r\nimport { createBlog, getBlogWithComments , getAllBlogs, getBlogById, deleteBlog, updateBlog} from \"../controllers/blog.controller\";\r\nconst router = express.Router();\r\n\r\n\r\nrouter.post(\"/blog/post\", upload.single(\"blogImage\"), createBlog);\r\nrouter.get(\"/blog/:blogId/comments/get\",  getBlogWithComments);\r\nrouter.get(\"/blog/get\",  getAllBlogs);\r\nrouter.get(\"/blog/:id/get\",  getBlogById);\r\nrouter.delete(\"/blog/:id/delete\",  deleteBlog);\r\nrouter.patch(\"/blog/:id/update\", upload.single(\"blogImage\"), updateBlog);\r\n\r\n\r\nmodule.exports = router;\r\n  "],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAAmI,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACnI,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAG/BF,MAAM,CAACG,IAAI,CAAC,YAAY,EAAEC,eAAM,CAACC,MAAM,CAAC,WAAW,CAAC,EAAEC,gBAAU,CAAC;AACjEN,MAAM,CAACO,GAAG,CAAC,4BAA4B,EAAGC,yBAAmB,CAAC;AAC9DR,MAAM,CAACO,GAAG,CAAC,WAAW,EAAGE,iBAAW,CAAC;AACrCT,MAAM,CAACO,GAAG,CAAC,eAAe,EAAGG,iBAAW,CAAC;AACzCV,MAAM,CAACW,MAAM,CAAC,kBAAkB,EAAGC,gBAAU,CAAC;AAC9CZ,MAAM,CAACa,KAAK,CAAC,kBAAkB,EAAET,eAAM,CAACC,MAAM,CAAC,WAAW,CAAC,EAAES,gBAAU,CAAC;AAGxEC,MAAM,CAACC,OAAO,GAAGhB,MAAM"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"81b94af282f3bdf86db6ea677cdd3260327f3c5d","contentHash":"f39dc4828cdc6df12342ae4f6fa088f629df28bd65a5b7ab6daac3e787d1582c"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\middlewares\\multer.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\middlewares\\multer.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":55}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":51}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":10,"column":15},"end":{"line":23,"column":2}},"6":{"start":{"line":13,"column":4},"end":{"line":13,"column":32}},"7":{"start":{"line":16,"column":20},"end":{"line":16,"column":60}},"8":{"start":{"line":17,"column":4},"end":{"line":20,"column":5}},"9":{"start":{"line":18,"column":6},"end":{"line":18,"column":48}},"10":{"start":{"line":19,"column":6},"end":{"line":19,"column":13}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":19}},"12":{"start":{"line":24,"column":15},"end":{"line":24,"column":21}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":12},"end":{"line":12,"column":13}},"loc":{"start":{"line":12,"column":31},"end":{"line":14,"column":3}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":14},"end":{"line":15,"column":15}},"loc":{"start":{"line":15,"column":33},"end":{"line":22,"column":3}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9},"2":{"loc":{"start":{"line":17,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":20,"column":5}},{"start":{"line":17,"column":4},"end":{"line":20,"column":5}}],"line":17},"3":{"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":79}},"type":"binary-expr","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":29}},{"start":{"line":17,"column":33},"end":{"line":17,"column":55}},{"start":{"line":17,"column":59},"end":{"line":17,"column":79}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1},"f":{"0":2,"1":0,"2":0},"b":{"0":[0,2],"1":[2,2],"2":[0,0],"3":[0,0,0]},"inputSourceMap":{"version":3,"names":["_multer","_interopRequireDefault","require","_path","obj","__esModule","default","upload","multer","storage","diskStorage","filename","req","file","cb","originalname","fileFilter","extention","path","extname","Error","_default","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\middlewares\\","sources":["multer.js"],"sourcesContent":["import multer from \"multer\";\r\nimport path from \"path\";\r\n\r\nconst upload = multer({\r\n  storage: multer.diskStorage({}),\r\n  filename: (req, file, cb) => {\r\n    cb(null, file.originalname);\r\n  },\r\n  fileFilter: (req, file, cb) => {\r\n    let extention = path.extname(file.originalname);\r\n    if (\r\n      !extention === \".jpg\" &&\r\n      !extention === \".jpeg\" && \r\n      extention === \".png\"\r\n    ) {\r\n      cb(new Error(\"Unsupported file!\", false));\r\n      return;\r\n    }\r\n    cb(null, true);\r\n  },\r\n});\r\nexport default upload;"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExB,MAAMG,MAAM,GAAG,IAAAC,eAAM,EAAC;EACpBC,OAAO,EAAED,eAAM,CAACE,WAAW,CAAC,CAAC,CAAC,CAAC;EAC/BC,QAAQ,EAAEA,CAACC,GAAG,EAAEC,IAAI,EAAEC,EAAE,KAAK;IAC3BA,EAAE,CAAC,IAAI,EAAED,IAAI,CAACE,YAAY,CAAC;EAC7B,CAAC;EACDC,UAAU,EAAEA,CAACJ,GAAG,EAAEC,IAAI,EAAEC,EAAE,KAAK;IAC7B,IAAIG,SAAS,GAAGC,aAAI,CAACC,OAAO,CAACN,IAAI,CAACE,YAAY,CAAC;IAC/C,IACE,CAACE,SAAS,KAAK,MAAM,IACrB,CAACA,SAAS,KAAK,OAAO,IACtBA,SAAS,KAAK,MAAM,EACpB;MACAH,EAAE,CAAC,IAAIM,KAAK,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;MACzC;IACF;IACAN,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;EAChB;AACF,CAAC,CAAC;AAAC,IAAAO,QAAA,GACYd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fd2d526f04c74803235b8bc144f3ffa06172b567","contentHash":"eb05c5375defb45c3fc11cf39b0b6820e7e01d4cbb412b24edc504d9fd80e1de"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\blog.controller.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\blog.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":144}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":37}},"3":{"start":{"line":8,"column":18},"end":{"line":8,"column":78}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":10,"column":19},"end":{"line":22,"column":1}},"6":{"start":{"line":11,"column":17},"end":{"line":11,"column":73}},"7":{"start":{"line":12,"column":13},"end":{"line":16,"column":4}},"8":{"start":{"line":17,"column":2},"end":{"line":21,"column":5}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":32}},"10":{"start":{"line":24,"column":19},"end":{"line":54,"column":1}},"11":{"start":{"line":25,"column":2},"end":{"line":53,"column":3}},"12":{"start":{"line":26,"column":19},"end":{"line":26,"column":32}},"13":{"start":{"line":27,"column":17},"end":{"line":27,"column":52}},"14":{"start":{"line":28,"column":4},"end":{"line":33,"column":5}},"15":{"start":{"line":29,"column":6},"end":{"line":32,"column":9}},"16":{"start":{"line":36,"column":19},"end":{"line":36,"column":75}},"17":{"start":{"line":37,"column":24},"end":{"line":41,"column":6}},"18":{"start":{"line":42,"column":4},"end":{"line":46,"column":7}},"19":{"start":{"line":48,"column":4},"end":{"line":48,"column":23}},"20":{"start":{"line":49,"column":4},"end":{"line":52,"column":7}},"21":{"start":{"line":55,"column":0},"end":{"line":55,"column":32}},"22":{"start":{"line":56,"column":28},"end":{"line":74,"column":1}},"23":{"start":{"line":57,"column":17},"end":{"line":57,"column":34}},"24":{"start":{"line":58,"column":15},"end":{"line":63,"column":4}},"25":{"start":{"line":64,"column":2},"end":{"line":69,"column":3}},"26":{"start":{"line":65,"column":4},"end":{"line":68,"column":7}},"27":{"start":{"line":70,"column":2},"end":{"line":73,"column":5}},"28":{"start":{"line":98,"column":0},"end":{"line":98,"column":50}},"29":{"start":{"line":99,"column":20},"end":{"line":113,"column":1}},"30":{"start":{"line":100,"column":2},"end":{"line":112,"column":3}},"31":{"start":{"line":101,"column":18},"end":{"line":101,"column":46}},"32":{"start":{"line":102,"column":4},"end":{"line":105,"column":7}},"33":{"start":{"line":107,"column":4},"end":{"line":110,"column":7}},"34":{"start":{"line":111,"column":4},"end":{"line":111,"column":23}},"35":{"start":{"line":114,"column":0},"end":{"line":114,"column":34}},"36":{"start":{"line":115,"column":20},"end":{"line":136,"column":1}},"37":{"start":{"line":116,"column":17},"end":{"line":116,"column":30}},"38":{"start":{"line":117,"column":2},"end":{"line":135,"column":3}},"39":{"start":{"line":118,"column":17},"end":{"line":118,"column":52}},"40":{"start":{"line":119,"column":4},"end":{"line":124,"column":5}},"41":{"start":{"line":120,"column":6},"end":{"line":123,"column":9}},"42":{"start":{"line":125,"column":4},"end":{"line":128,"column":7}},"43":{"start":{"line":130,"column":4},"end":{"line":130,"column":23}},"44":{"start":{"line":131,"column":4},"end":{"line":134,"column":7}},"45":{"start":{"line":137,"column":0},"end":{"line":137,"column":34}},"46":{"start":{"line":138,"column":19},"end":{"line":160,"column":1}},"47":{"start":{"line":139,"column":2},"end":{"line":159,"column":3}},"48":{"start":{"line":140,"column":19},"end":{"line":140,"column":32}},"49":{"start":{"line":141,"column":17},"end":{"line":141,"column":52}},"50":{"start":{"line":142,"column":4},"end":{"line":147,"column":5}},"51":{"start":{"line":143,"column":6},"end":{"line":146,"column":9}},"52":{"start":{"line":148,"column":4},"end":{"line":148,"column":25}},"53":{"start":{"line":149,"column":4},"end":{"line":152,"column":7}},"54":{"start":{"line":154,"column":4},"end":{"line":154,"column":23}},"55":{"start":{"line":155,"column":4},"end":{"line":158,"column":7}},"56":{"start":{"line":161,"column":0},"end":{"line":161,"column":32}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":19},"end":{"line":10,"column":20}},"loc":{"start":{"line":10,"column":39},"end":{"line":22,"column":1}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":19},"end":{"line":24,"column":20}},"loc":{"start":{"line":24,"column":39},"end":{"line":54,"column":1}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":56,"column":28},"end":{"line":56,"column":29}},"loc":{"start":{"line":56,"column":48},"end":{"line":74,"column":1}},"line":56},"4":{"name":"(anonymous_4)","decl":{"start":{"line":99,"column":20},"end":{"line":99,"column":21}},"loc":{"start":{"line":99,"column":40},"end":{"line":113,"column":1}},"line":99},"5":{"name":"(anonymous_5)","decl":{"start":{"line":115,"column":20},"end":{"line":115,"column":21}},"loc":{"start":{"line":115,"column":40},"end":{"line":136,"column":1}},"line":115},"6":{"name":"(anonymous_6)","decl":{"start":{"line":138,"column":19},"end":{"line":138,"column":20}},"loc":{"start":{"line":138,"column":39},"end":{"line":160,"column":1}},"line":138}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9},"2":{"loc":{"start":{"line":28,"column":4},"end":{"line":33,"column":5}},"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":33,"column":5}},{"start":{"line":28,"column":4},"end":{"line":33,"column":5}}],"line":28},"3":{"loc":{"start":{"line":64,"column":2},"end":{"line":69,"column":3}},"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":69,"column":3}},{"start":{"line":64,"column":2},"end":{"line":69,"column":3}}],"line":64},"4":{"loc":{"start":{"line":119,"column":4},"end":{"line":124,"column":5}},"type":"if","locations":[{"start":{"line":119,"column":4},"end":{"line":124,"column":5}},{"start":{"line":119,"column":4},"end":{"line":124,"column":5}}],"line":119},"5":{"loc":{"start":{"line":142,"column":4},"end":{"line":147,"column":5}},"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":147,"column":5}},{"start":{"line":142,"column":4},"end":{"line":147,"column":5}}],"line":142}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"names":["_models","require","_cloudinary","_interopRequireDefault","obj","__esModule","default","createBlog","req","res","result","cloudinary","uploader","upload","file","path","blog","Blog","create","blogTitle","body","blogDescription","blogImage","secure_url","status","json","message","data","exports","updateBlog","blogId","params","id","findByPk","updatedBlog","update","error","console","log","getBlogWithComments","findOne","where","include","Comment","getAllBlogs","blogs","findAll","send","getBlogById","deleteBlog","destroy"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\","sources":["blog.controller.js"],"sourcesContent":["\r\nimport { Blog, Comment } from \"../../models\";\r\nimport cloudinary from \"../middlewares/cloudinary\"\r\n\r\n\r\nexport const createBlog =   async (req, res)=> {\r\n\r\n    const result = await cloudinary.uploader.upload(req.file.path);\r\n\r\n  let blog = await Blog.create({\r\n    blogTitle: req.body.blogTitle,\r\n    blogDescription: req.body.blogDescription,\r\n    blogImage: result.secure_url,\r\n  });\r\n    res.status(201).json({\r\n      status: \"success\",\r\n      message: \"Blog created successfully\",\r\n      data: blog\r\n    });\r\n};\r\n\r\nexport const updateBlog = async (req, res) => {\r\n  try {\r\n    const blogId = req.params.id;\r\n    const blog = await Blog.findByPk(blogId);\r\n\r\n    if (!blog) {\r\n      return res.status(404).json({\r\n        status: \"error\",\r\n        message: \"Blog not found\",\r\n      });\r\n    }\r\n\r\n    // Update the blog with the new values\r\n    const result = await cloudinary.uploader.upload(req.file.path);\r\n    const updatedBlog = await blog.update({\r\n      blogTitle: req.body.blogTitle,\r\n      blogDescription: req.body.blogDescription,\r\n      blogImage: result.secure_url,\r\n    });\r\n\r\n    res.status(200).json({\r\n      status: \"success\",\r\n      message: \"Blog updated successfully\",\r\n      data: updatedBlog,\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({\r\n      status: \"error\",\r\n      message: \"Internal server error\",\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getBlogWithComments = async (req, res) => {\r\n  const blogId = req.params.blogId;\r\n\r\n  const blog = await Blog.findOne({\r\n    where: { id: blogId },\r\n    include:  Comment,\r\n  });\r\n\r\n  if (!blog) {\r\n    return res.status(404).json({\r\n      status: \"error\",\r\n      message: \"Blog not found\",\r\n    });\r\n  }\r\n\r\n  res.status(200).json({\r\n    status: \"success\",\r\n    data: blog,\r\n  });\r\n};\r\n\r\n\r\n// export const getAllBlogsWithNumberOfCommentsToEach = async(req,res)=> {\r\n \r\n//   const blogs = await Blog.findAll();\r\n//   const blogsWithCommentsCount = [];\r\n\r\n//     for (let i = 0; i < blogs.length; i++) {\r\n//       const blog = blogs[i];\r\n//       const commentsCount = await Comment.count({ blog: blog._id });\r\n//       blogsWithCommentsCount.push({\r\n//         blog,\r\n//         commentsCount,\r\n//       });\r\n//     }\r\n\r\n//     res.status(200).json({\r\n//       status: 'success',\r\n//       results: blogsWithCommentsCount.length,\r\n//       data: {\r\n//         blogs: blogsWithCommentsCount,\r\n//       },\r\n//     });\r\n//   }\r\n\r\n\r\nexport const getAllBlogs = async(req,res)=>{\r\n  try{\r\n    const blogs = await Blog.findAll();\r\n    res.status(200).send({status:\"success\", message:blogs})\r\n  } catch(error){\r\n    res.status(404).send({status:\"fail\", message:`failed to get blogs ${error}`})\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport const getBlogById = async (req, res) => {\r\n  const blogId = req.params.id;\r\n  try {\r\n    const blog = await Blog.findByPk(blogId);\r\n    if (!blog) {\r\n      return res.status(404).send({ status: 'fail', message: 'blog not found' });\r\n    }\r\n    res.status(200).send({ status: 'success', message: blog });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).send({ status: 'error', message: 'Internal server error' });\r\n  }\r\n};\r\n\r\nexport const deleteBlog = async (req, res) => {\r\n  try {\r\n    const blogId = req.params.id; \r\n    const blog = await Blog.findByPk(blogId); \r\n    if (!blog) {\r\n      return res.status(404).send({ status: \"fail\", message: \"blog not found\" });\r\n    }\r\n    await blog.destroy(); \r\n    res.status(200).send({ status: \"success\", message: \"blog deleted successfully\" });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).send({ status: \"fail\", message: \"Failed to delete blog\" });\r\n  }\r\n}"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0b09f545cc2940c83c501a6736c3d95177a2ca23","contentHash":"e065dd991cfc33d9d6eb48963ea5cdfb00280318b50dc73591e3979d517164ff"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\middlewares\\cloudinary.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\middlewares\\cloudinary.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":18},"end":{"line":7,"column":63}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":55}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"6":{"start":{"line":11,"column":0},"end":{"line":15,"column":3}},"7":{"start":{"line":16,"column":15},"end":{"line":16,"column":34}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":1,"8":1},"f":{"0":2},"b":{"0":[0,2],"1":[2,2]},"inputSourceMap":{"version":3,"names":["_cloudinary","_interopRequireDefault","require","_dotenv","obj","__esModule","default","dotenv","config","cloudinary","cloud_name","process","env","CLOUDINARY_CLOUD_NAME","api_key","CLOUDINARY_API_KEY","api_secret","CLOUDINARY_API_SECRET","_default","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\middlewares\\","sources":["cloudinary.js"],"sourcesContent":["import cloudinary from \"cloudinary\";\r\nimport dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\ncloudinary.config({\r\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\r\n    api_key: process.env.CLOUDINARY_API_KEY,\r\n    api_secret: process.env.CLOUDINARY_API_SECRET,\r\n  });\r\nexport default cloudinary;"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA4B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC5BG,eAAM,CAACC,MAAM,EAAE;AAEfC,mBAAU,CAACD,MAAM,CAAC;EACdE,UAAU,EAAEC,OAAO,CAACC,GAAG,CAACC,qBAAqB;EAC7CC,OAAO,EAAEH,OAAO,CAACC,GAAG,CAACG,kBAAkB;EACvCC,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACK;AAC1B,CAAC,CAAC;AAAC,IAAAC,QAAA,GACUT,mBAAU;AAAAU,OAAA,CAAAb,OAAA,GAAAY,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa532919a71d04466590930ff5a97c930b22aad1","contentHash":"5746d81d2cefbd005ab55ee020436143d013ccb0643c0fc6b5c877e959257dd0"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\comment.routes.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\comment.routes.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":57}},"1":{"start":{"line":4,"column":15},"end":{"line":4,"column":60}},"2":{"start":{"line":5,"column":39},"end":{"line":5,"column":93}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":69}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":37},"end":{"line":5,"column":95}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":92}},"type":"cond-expr","locations":[{"start":{"line":5,"column":70},"end":{"line":5,"column":73}},{"start":{"line":5,"column":76},"end":{"line":5,"column":92}}],"line":5},"1":{"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":67}},"type":"binary-expr","locations":[{"start":{"line":5,"column":46},"end":{"line":5,"column":49}},{"start":{"line":5,"column":53},"end":{"line":5,"column":67}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_comment","obj","__esModule","default","router","express","Router","post","createComment","module","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\routes\\","sources":["comment.routes.js"],"sourcesContent":["import express from \"express\"\r\nimport { createComment } from \"../controllers/comment.controllers\";\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/:userId/:blogId/comment/post\", createComment)\r\n\r\nmodule.exports = router"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAAmE,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACnE,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,IAAI,CAAC,+BAA+B,EAAEC,sBAAa,CAAC;AAE3DC,MAAM,CAACC,OAAO,GAAGN,MAAM"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aafc2e071276db7d9de5687446424486c8f78254","contentHash":"28ce1e7c5ad90b678cc46033aa8418e2c54ea383243f0a6c6fdb5774457411d9"},"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\comment.controllers.js":{"path":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\comment.controllers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":37}},"3":{"start":{"line":8,"column":22},"end":{"line":41,"column":1}},"4":{"start":{"line":9,"column":2},"end":{"line":40,"column":3}},"5":{"start":{"line":10,"column":17},"end":{"line":15,"column":6}},"6":{"start":{"line":16,"column":17},"end":{"line":21,"column":6}},"7":{"start":{"line":22,"column":20},"end":{"line":28,"column":6}},"8":{"start":{"line":29,"column":4},"end":{"line":33,"column":7}},"9":{"start":{"line":35,"column":4},"end":{"line":35,"column":21}},"10":{"start":{"line":36,"column":4},"end":{"line":39,"column":7}},"11":{"start":{"line":42,"column":0},"end":{"line":42,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":22},"end":{"line":8,"column":23}},"loc":{"start":{"line":8,"column":42},"end":{"line":41,"column":1}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"names":["_models","require","createComment","req","res","user","User","findOne","where","id","params","userId","attributes","blog","Blog","blogId","comment","Comment","create","username","email","body","status","json","message","data","err","console","log","exports"],"sourceRoot":"C:\\Users\\mwana\\Documents\\my_projects\\nodejs-express-sequelize-postgres\\src\\controllers\\","sources":["comment.controllers.js"],"sourcesContent":["import { Comment, User, Blog } from \"../../models\";\r\nexport const createComment = async (req, res) => {\r\n    try {\r\n\r\n      const user = await User.findOne({\r\n        where: { id: req.params.userId },\r\n        attributes: ['id', 'username', 'email']\r\n      });\r\n  \r\n      const blog = await Blog.findOne({\r\n        where: { id: req.params.blogId },\r\n        attributes: ['id']\r\n      });\r\n  \r\n      const comment = await Comment.create({\r\n        username: user.username,\r\n        email: user.email,\r\n        blogId: blog.id,\r\n        userId: user.id,\r\n        comment: req.body.comment\r\n      });\r\n  \r\n      res.status(201).json({\r\n        status: \"success\",\r\n        message: \"Comment created successfully\",\r\n        data: comment\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      res.status(500).json({\r\n        status: \"error\",\r\n        message: \"Could not create comment\"\r\n      });\r\n    }\r\n  };\r\n  "],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC7C,IAAI;IAEF,MAAMC,IAAI,GAAG,MAAMC,YAAI,CAACC,OAAO,CAAC;MAC9BC,KAAK,EAAE;QAAEC,EAAE,EAAEN,GAAG,CAACO,MAAM,CAACC;MAAO,CAAC;MAChCC,UAAU,EAAE,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO;IACxC,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAG,MAAMC,YAAI,CAACP,OAAO,CAAC;MAC9BC,KAAK,EAAE;QAAEC,EAAE,EAAEN,GAAG,CAACO,MAAM,CAACK;MAAO,CAAC;MAChCH,UAAU,EAAE,CAAC,IAAI;IACnB,CAAC,CAAC;IAEF,MAAMI,OAAO,GAAG,MAAMC,eAAO,CAACC,MAAM,CAAC;MACnCC,QAAQ,EAAEd,IAAI,CAACc,QAAQ;MACvBC,KAAK,EAAEf,IAAI,CAACe,KAAK;MACjBL,MAAM,EAAEF,IAAI,CAACJ,EAAE;MACfE,MAAM,EAAEN,IAAI,CAACI,EAAE;MACfO,OAAO,EAAEb,GAAG,CAACkB,IAAI,CAACL;IACpB,CAAC,CAAC;IAEFZ,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACnBD,MAAM,EAAE,SAAS;MACjBE,OAAO,EAAE,8BAA8B;MACvCC,IAAI,EAAET;IACR,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOU,GAAG,EAAE;IACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBtB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACnBD,MAAM,EAAE,OAAO;MACfE,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACK,OAAA,CAAA3B,aAAA,GAAAA,aAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bb75a4462de3809120689876a52d559943a6ffa1","contentHash":"6ca855a252458b7db987527d50abbc37cb3d044b8a691cb4891c2d5fba381075"}}